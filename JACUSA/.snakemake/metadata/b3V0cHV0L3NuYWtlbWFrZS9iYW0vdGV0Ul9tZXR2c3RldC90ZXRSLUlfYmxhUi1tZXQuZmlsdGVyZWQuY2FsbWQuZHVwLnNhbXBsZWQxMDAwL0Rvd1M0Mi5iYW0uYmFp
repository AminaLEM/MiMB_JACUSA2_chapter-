{"version": null, "code": "gASVAwQAAAAAAAAoQxJ0AGQBfA58EWQCjQMBAGQAUwCUKIwFaW5wdXSUjAZvdXRwdXSUjAZwYXJhbXOUjAl3aWxkY2FyZHOUjAd0aHJlYWRzlIwJcmVzb3VyY2VzlIwDbG9nlIwHdmVyc2lvbpSMBHJ1bGWUjAljb25kYV9lbnaUjA1jb250YWluZXJfaW1nlIwQc2luZ3VsYXJpdHlfYXJnc5SMD3VzZV9zaW5ndWxhcml0eZSMC2Vudl9tb2R1bGVzlIwMYmVuY2hfcmVjb3JklIwFam9iaWSUjAhpc19zaGVsbJSMD2JlbmNoX2l0ZXJhdGlvbpSMD2NsZWFudXBfc2NyaXB0c5SMCnNoYWRvd19kaXKUjA1lZGl0X25vdGVib29rlIwPY29uZGFfYmFzZV9wYXRolIwHYmFzZWRpcpSMGHJ1bnRpbWVfc291cmNlY2FjaGVfcGF0aJR0lF2UKE5YkAIAAAogICAgICAgIGZ1bmN0aW9uIFN1YlNhbXBsZSB7ewogICAgICAgIEZBQ1RPUj0kKAogICAgICAgICAgICBzYW10b29scyB2aWV3ICQxICAgICAgICAgICAgIHwgY3V0IC1mMyB8Z3JlcCAtbyAkMiAtYyAgICAgICAgICAgICB8IGF3ayAtdiBDT1VOVD0kMyAtdiBzZWVkPSQ2ICcKICAgICAgICAgICAgICAgIEJFR0lOIHt7dG90YWw9MH19CiAgICAgICAgICAgICAgICB7e3RvdGFsICs9ICQxfX0KICAgICAgICAgICAgICAgIEVORCB7eyBwcmludGYgIiVmIiwgc2VlZCtDT1VOVC90b3RhbCB9fQogICAgICAgICAgICAnKQogICAgICAgIGlmIFtbICRGQUNUT1IgIT0gJDYuKiBdXQogICAgICAgICAgdGhlbiAKICAgICAgICAgICAgZWNobyAnW0VSUk9SXTogUmVxdWVzdGVkIG51bWJlciBvZiByZWFkcyBleGNlZWRzIHRvdGFsIHJlYWQgY291bnQgaW4nICQxICctLSBleGl0aW5nJyAmJiBleGl0IDEKICAgICAgICBmaQogICAgICAgIHNhbXRvb2xzIHZpZXcgLXMgJEZBQ1RPUiAtYiAkMSA+ICQ0CiAgICAgICAgc2FtdG9vbHMgaW5kZXggJDQgPiAkNQoKICAgICAgICB9fQoKICAgICAgICBTdWJTYW1wbGUge2lucHV0LmJhbX0ge3BhcmFtcy5zZXF9IHtwYXJhbXMudGhyZX0ge291dHB1dC5iYW19IHtvdXRwdXQuYmFpfSB7cGFyYW1zLnNlZWR9CiAgICAgICAglGgPaBKGlGWMBXNoZWxslIWUdJQu", "rule": "downsampling", "input": ["output/snakemake/bam/tetR_metvstet/tetR-I_blaR-met.filtered.calmd.dup.bam"], "log": [], "params": ["'1000'", "'42'", "'T7-tetR'"], "shellcmd": "\n        function SubSample {\n        FACTOR=$(\n            samtools view $1             | cut -f3 |grep -o $2 -c             | awk -v COUNT=$3 -v seed=$6 '\n                BEGIN {total=0}\n                {total += $1}\n                END { printf \"%f\", seed+COUNT/total }\n            ')\n        if [[ $FACTOR != $6.* ]]\n          then \n            echo '[ERROR]: Requested number of reads exceeds total read count in' $1 '-- exiting' && exit 1\n        fi\n        samtools view -s $FACTOR -b $1 > $4\n        samtools index $4 > $5\n\n        }\n\n        SubSample output/snakemake/bam/tetR_metvstet/tetR-I_blaR-met.filtered.calmd.dup.bam T7-tetR 1000 output/snakemake/bam/tetR_metvstet/tetR-I_blaR-met.filtered.calmd.dup.sampled1000/DowS42.bam output/snakemake/bam/tetR_metvstet/tetR-I_blaR-met.filtered.calmd.dup.sampled1000/DowS42.bam.bai 42\n        ", "incomplete": false, "starttime": 1637929425.0, "endtime": 1637929427.0, "job_hash": 8770051936516, "conda_env": null, "container_img_url": null}